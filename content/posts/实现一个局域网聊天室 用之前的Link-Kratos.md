+++
title = '实现一个局域网聊天室'
date = 2023-12-22T18:13:32+08:00
+++

# 实现一个局域网聊天室 用之前的Link-Kratos

万物第一步：好看的ui！好看的ui！好看的ui！

注意的问题

无登录机制：无敌

支持用户更换头像：人类的伟大一步

支持用户更换用户名：人类的伟大一步

实现端到端加密：隐私！隐私！隐私！

实现上传文件：必要的，正确的

聊天室销毁机制：当最后一个人退出聊天室时，聊天室销毁

离线消息：后加入的人可以看到聊天室在创造之后的所有聊天记录

引爆聊天室机制：发起投票机制：提出在多少时间后引爆聊天室

倒数机制：在时间快要临近的时候，服务器会往群聊天页面广播倒数时间

销毁聊天室后，并不是退出网页，而是弹出消息框，该聊天室已删除，如有需要可重新创建

聊天室创建机制：

初始创建人员机制：在思考第一个创建该局域网聊天室的人是否要给一点权限

(思考中）🤔 考虑人员场景

如：一个固定会需要创群的场景（比如培训机构基地，那就不能有之前的聊天记录）

公共Wi-Fi，也不能有之前的聊天记录，很难保证有没有人留在里面

创建机制：会直接进入聊天框页面

聊天机制：支持向左滑动 引用/回复当前消息（模仿TG）

支持点击被引用/回复的消息，定位到那条消息所在位置并移动，并且此时右下角会多出一个向下的箭头，以便回到之前点击时的点

支持消息气泡的右下角显示当前系统时间

识别文本/图片消息：如果是图片消息就只显示时间，如果是文字消息就会在消息气泡的左上角显示用户名

如果消息被引用或回复会创建一个属于这个消息的会话，并且在里面回复的话，相当于直接在外面引用/回复，切回复次数会显示在主群聊页面该消息气泡的右下角

![Untitled](%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%B1%80%E5%9F%9F%E7%BD%91%E8%81%8A%E5%A4%A9%E5%AE%A4%20%E7%94%A8%E4%B9%8B%E5%89%8D%E7%9A%84Link-Kratos%20e23174657e1148cc9576b872dc155bf9/Untitled.png)

写一个文档：专业

支持light/dark切换：大家应该都会选dark吧

聊天记录检索：检索包含文件名/用户名（一开始定死）//聊天记录出现的关键词

语音支持转文字：问就是浏览器还要听语音干嘛  🤔额…浏览器为什么能发语音，不管，问就是战未来

表情包：表情包怎么办。。。。没有表情包的聊天没有灵魂！！

不登录可以用默认配置的表情包

算了，登录的时候选择吧，可以选择登录，也可以选择不登录（不登录界面可以设置用户名和（默认头像里面选）头像）

需要私聊功能吗，可是我是局域网聊天室，感觉私聊好臃肿，妈的先不做了